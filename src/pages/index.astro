---
import Hero from "../components/hero/Hero.astro"
import Layout from "../layouts/Layout.astro"
---

<Layout title="WWWD | Home" isLandingHero={true}>
  <Hero isLandingHero={true} class="">
    <h1 class="heading text-white text-center" id="heading"></h1>
    <p class="tagline italic text-white text-center py-8" id="tagline"></p>
  </Hero>
</Layout>

<script>
  import Typewriter from "typewriter-effect/dist/core"

  const headingEl = document.querySelector("#heading")
  const taglineEl = document.querySelector("#tagline")

  const headingText =
    "<span class='text-[var(--secondary-text-color)]'>W</span>orld <span class='text-[var(--secondary-text-color)]'>W</span>ide <span class='text-[var(--secondary-text-color)]'>W</span>eb <span class='text-[var(--secondary-text-color)]'>D</span>evelopment"

  const taglineText =
    "- Remember to make your website just a little bit more awesome every day"

  const heading = new Typewriter(headingEl, {
    autoStart: false,
    loop: false,
    delay: 100,
    cursor: "",
    deleteSpeed: 40,
  })

  const tagline = new Typewriter(taglineEl, {
    autoStart: false,
    loop: false,
    cursor: "",
    delay: 60,
  })

  // Type heading first
  heading
    .typeString(headingText)
    .callFunction(() => {
      // After heading is typed, wait a moment then start tagline
      setTimeout(() => {
        tagline
          .typeString(taglineText)
          .callFunction(() => {
            // After tagline is typed, delete heading
            heading.deleteAll().callFunction(() => {
              const cursor = headingEl.querySelector(".Typewriter__cursor")
              if (cursor) cursor.style.display = "none"
            })
          })
          .start()
      }, 1000)
    })
    .start()
</script>
